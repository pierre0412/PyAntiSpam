# PyAntiSpam Configuration Example
# Copy to config.yaml and customize

# LLM Configuration
llm:
  provider: "openai"  # openai, anthropic, ollama
  model: "gpt-4o-mini"
  api_key_env: "OPENAI_API_KEY"  # Environment variable name
  # For Anthropic: model: "claude-3-haiku-20240307", api_key_env: "ANTHROPIC_API_KEY"
  
  # LLM Cache Settings
  cache:
    enabled: true                    # Enable persistent LLM cache
    file_path: "data/llm_cache.json" # Path to cache file
    max_age_days: 30                # Auto-delete cache entries older than N days (0 = never)

# Email Accounts Configuration
email_accounts:
  - name: "personal"
    server: "imap.gmail.com"
    port: 993
    username: "your-email@gmail.com"
    password_env: "EMAIL_PASSWORD_PERSONAL"
    use_ssl: true

  # - name: "work"
  #   server: "outlook.office365.com"
  #   port: 993
  #   username: "your-work@company.com"
  #   password_env: "EMAIL_PASSWORD_WORK"
  #   use_ssl: true

# Spam Detection Settings
detection:
  ml_confidence_threshold: 0.8     # Threshold for ML model certainty
  use_llm_for_uncertain: true      # Use LLM for uncertain cases
  classify_marketing_as_spam: true # Classify unsolicited marketing/newsletters as spam
  marketing_confidence_threshold: 0.6  # Lower threshold for marketing classification

# Learning and Retraining Settings (IMPLEMENTED)
learning:
  retrain_threshold: 10            # Retrain ML model after N new feedback samples
# 5 trés réactif réentraine souvent
# 10 équilibré réglage par défaut
# 20 conservateur, plus stable, production, évite surapprentissage
# 50 trés stable, réentraine rarement, serveur stable, peu de feedback

# Note: The following folders are HARDCODED in the program:
# - PYANTISPAM_IS_SPAM      (move false negatives here - emails that should be spam)
# - PYANTISPAM_NOT_SPAM     (move false positives here - emails that are NOT spam)
# - PYANTISPAM_WHITELIST    (auto-whitelist senders)
# - PYANTISPAM_BLACKLIST    (auto-blacklist senders)

# Action Settings
actions:
  move_spam_to_folder: "SPAM_AUTO"  # Folder name to move spam
  auto_delete_after_days: 30        # Auto-delete spam after N days (0 = never)

# Email Connection Settings
email_connection:
  request_delay: 0.1  # Delay between IMAP requests in seconds (prevents server overload)

# Logging Settings
logging:
  log_decisions: true
  log_file: "spam_decisions.log"
  keep_logs_days: 90
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR